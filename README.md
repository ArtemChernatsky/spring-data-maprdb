# Spring Data MapR DB
## Quick start
### MapR Template
MapRTemplate is the central support class for MapR database operations.

### Spring Data repositories
To simplify the creation of data repositories Spring Data MongoDB provides a generic repository programming model. It will automatically create a repository proxy for you.
```java
public interface UserRepository extends MapRRepository <User, String> {
}
```
### Configuration
You can use Java to configure your Spring Data environment as show below.
Make sure that folder for database is created and you have permissions for write in this folder.
```java
@Configuration
@EnableMapRRepository
class Config extends AbstractMapRConfiguration {
    @Override
    protected String getDatabaseName() { 
        return "DB_FOLDER_NAME";
    }
}
```
### Entity
Mark your entity with annotation `@Document`, then table's name will be generated by class name, or you can specify custom name for table by annotation's parameter(`@Document("TABLE_NAME")`). 
Add `@JsonProperty("_id")` annotation before ID field.
```java
@Document
//@Document("TABLE_NAME")
public class User {
    @JsonProperty("_id")
    private String id;
    
    private String name;

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```
### Service example
You can use repository as shown below:
```java
@Service
public class MyService {
    
    private final UserRepository userRepository;
    
    @Autowired
    public MyService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    public void doWork() {
    
         userRepository.deleteAll();
    
         User user = new User();
         user.setId("test_id");
         user.setName("Test user");
         
         User userById = userRepository.findById("test_id");
     }
}
```
